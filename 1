#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/types.h>

struct Lanche {
  int codigo;
  char especificacao[25];
  double preco;
  void (*funcao)(struct Lanche *);
};

void Total(struct Lanche *lanche) {
  int quantidade;
  double total;
  printf("Digite o cÃ³digo do produto: \n");
  scanf("%d", &lanche->codigo);
  printf("O produto selecionado foi:\n%s\n%lf\n", lanche->especificacao,
         lanche->preco);
  printf("Digite a quantidade que deseja: \n");
  scanf("%d", &quantidade);
  total = quantidade * lanche->preco;
  printf("Total: R$ %lf", total);
}

struct Lanche *criarLanche(int codigo, char especificacao[], double preco) {
  struct Lanche *lanche = (struct Lanche *)malloc(sizeof(struct Lanche));
  lanche->codigo = 0;
  strcpy(lanche->especificacao, "");
  lanche->preco = 0;

  lanche->funcao = &Total;
  return lanche;
}

int main() {
  struct Lanche *lanche1 =
      (struct Lanche *)criarLanche(1, "Cachorro-Quente", 4.00);
  lanche1->funcao(lanche1);

  return 0;
}
